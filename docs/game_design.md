# 감정디펜스 (Emotion Defense) - 게임 기획서

> **장르:** 랜덤 조합 타워디펜스
> **플랫폼:** 모바일 (Flutter + Flame Engine)
> **영감:** 워크래프트3 유즈맵 "너의 원소 랜덤 디펜스"
> **버전:** v1.0 Draft

---

## 1. 게임 개요

### 1.1 컨셉
감정이 실체화된 세계에서, 밀려오는 "공허(적)"를 감정 캐릭터들로 막아내는 랜덤 조합 타워디펜스 게임.

### 1.2 핵심 루프
```
골드 소모하여 뽑기 (일반 등급만 등장)
→ 조합표를 참고하여 상위 감정 캐릭터 조합
→ 격자 맵에 배치 (드래그로 위치 이동)
→ 웨이브 진행, 적 처치하여 골드 획득
→ 강화 / 추가 뽑기 / 조합 반복
→ 30웨이브 클리어 시 승리
```

### 1.3 게임오버 조건
- 적이 회전 경로를 따라 이동하며, 경로 끝에 **일정 수 이상의 적이 쌓이면 게임오버**
- 쌓임 허용 수는 밸런스 테스트를 통해 조정 (기본값: 20마리 권장)

---

## 2. 등급 시스템

### 2.1 등급 체계 (4단계)

| 등급 | 획득 방법 | 역할 | 파워 레벨 |
|------|-----------|------|-----------|
| **일반 (Common)** | 뽑기 (골드 소모) | 초반 전투 + 조합 재료 | ★ |
| **레어 (Rare)** | 일반 캐릭터 조합 | 중반 전투 + 조합 재료 | ★★ |
| **영웅 (Hero)** | 레어/일반 캐릭터 조합 | 시너지/스턴/버퍼/디버퍼 역할 본격화 | ★★★ |
| **전설 (Legend)** | 영웅 포함 조합 | 올라운더 (딜+버프+디버프 복합) | ★★★★ |

### 2.2 핵심 규칙
- **뽑기에서는 항상 일반 등급만 등장**
- 레어 이상은 **전부 조합으로만 획득** 가능
- 조합은 **조합표 UI**에서 레시피를 선택하면 자동 합성
- 같은 캐릭터를 합치는 "승급" 방식이 아니라, **서로 다른 캐릭터를 조합하는 레시피 방식**

---

## 3. 캐릭터 (감정) 시스템

### 3.1 캐릭터 수 (총 22~27종)

| 등급 | 캐릭터 수 | 설명 |
|------|-----------|------|
| 일반 | 6종 | 기본 감정, 뽑기로 획득 |
| 레어 | 6~8종 | 복합 감정, 일반 조합으로 획득 |
| 영웅 | 6~8종 | 심화 감정, 역할군 본격 등장 |
| 전설 | 4~5종 | 극한 감정, 올라운더 |

### 3.2 감정 캐릭터 예시

#### 일반 (6종) - 기본 감정
| 이름 | 극성 | 설명 |
|------|------|------|
| 기쁨 | Positive | 기본 공격형 |
| 슬픔 | Negative | 기본 감속형 |
| 두려움 | Negative | 기본 디버프형 |
| 놀람 | Neutral | 기본 범위공격형 |
| 외로움 | Negative | 기본 단일공격형 |
| 설렘 | Positive | 기본 공속형 |

#### 레어 (조합 예시) - 복합 감정
| 이름 | 조합법 | 극성 | 역할 |
|------|--------|------|------|
| 분노 | 슬픔 + 외로움 | Negative | 딜러 |
| 질투 | 기쁨 + 두려움 | Negative | 디버퍼 |
| 불안 | 두려움 + 놀람 | Negative | 감속 |
| 그리움 | 슬픔 + 설렘 | Positive | 버퍼 |
| 수치심 | 놀람 + 외로움 | Negative | 스턴 |
| 감사 | 기쁨 + 설렘 | Positive | 버퍼 |

#### 영웅 (조합 예시) - 심화 감정
| 이름 | 조합법 | 극성 | 역할 |
|------|--------|------|------|
| 광기 | 분노 + 불안 | Negative | 딜러 |
| 체념 | 그리움 + 질투 | Negative | 디버퍼 |
| 희망 | 기쁨 + 그리움 | Positive | 버퍼 |
| 경멸 | 분노 + 질투 | Negative | 스턴 |
| 평온 | 감사 + 그리움 | Positive | 힐/버퍼 |
| 공포 | 수치심 + 불안 | Negative | 범위 디버프 |

#### 전설 (조합 예시) - 극한 감정
| 이름 | 조합법 | 극성 | 역할 |
|------|--------|------|------|
| 열정 | 광기 + 희망 | Positive | 딜러 + 버퍼 |
| 공허 | 체념 + 경멸 | Negative | 디버프 + 스턴 + 딜 |
| 깨달음 | 평온 + 공포 | Neutral | 올라운더 |
| 사랑 | 희망 + 열정 | Positive | 극딜 + 팀버프 |

> **참고:** 위 캐릭터/조합은 예시입니다. 실제 캐릭터 이름, 조합법, 스탯은 밸런스 테스트를 통해 조정합니다.

---

## 4. 조합 시스템

### 4.1 조합 방식
- **레시피 기반 조합**: 정해진 조합법에 따라 특정 캐릭터들을 합쳐 새로운 캐릭터 생성
- 같은 캐릭터끼리 합치는 "승급"이 아닌, **서로 다른 캐릭터 조합**
- 조합 재료 캐릭터는 조합 시 **소멸**됨

### 4.2 조합표 UI
- 게임 화면에서 **조합표 버튼**을 터치하면 조합표 팝업 열림
- 등급별/극성별 필터 기능
- 각 조합 레시피에 필요한 재료 캐릭터와 결과 캐릭터 표시
- 재료가 모두 있을 경우 **"조합" 버튼 활성화** → 터치 시 자동 합성
- 재료가 부족할 경우 어떤 재료가 부족한지 표시

### 4.3 조합 흐름
```
1. 조합표 버튼 터치
2. 조합표 팝업에서 만들고 싶은 캐릭터 선택
3. 재료 보유 여부 확인 (보유: 초록, 미보유: 빨강)
4. 재료가 모두 있으면 "조합" 버튼 터치
5. 재료 캐릭터 소멸 → 새 캐릭터 맵에 생성
```

---

## 5. 맵 & 경로 시스템

### 5.1 격자 맵
- **크기:** 6x10 (가로 6칸 × 세로 10칸, 세로형 모바일 화면 기준)
- 대안: 5x9로 축소 가능 (테스트 후 결정)
- 격자 타입:
  - **경로 칸**: 적이 이동하는 칸 (캐릭터 배치 불가)
  - **배치 칸**: 캐릭터를 배치할 수 있는 칸
  - **시작 칸**: 적 스폰 지점
  - **종료 칸**: 적 도달 지점 (여기에 적이 쌓임)

### 5.2 적 이동 방식
- 적은 맵 내 **회전 경로**를 따라 이동 (원랜디 스타일)
- 경로는 격자 위에 미리 정의된 고정 경로
- 경로를 따라 돌다가 종료 지점에 도달하면 **쌓임**
- 쌓인 적이 일정 수 이상 → **게임오버**

### 5.3 맵 레이아웃 예시 (6x10)
```
[S] [■] [□] [□] [□] [□]
[↓] [■] [□] [□] [□] [□]
[→] [→] [→] [↓] [□] [□]
[□] [□] [□] [↓] [□] [□]
[□] [□] [□] [→] [→] [↓]
[□] [□] [□] [□] [□] [↓]
[□] [↑] [←] [←] [←] [←]
[□] [↑] [□] [□] [□] [□]
[□] [→] [→] [→] [→] [E]
[□] [□] [□] [□] [□] [□]

S = 시작(스폰), E = 종료(쌓임),
→↓↑← = 경로, □ = 배치 가능, ■ = 배치 불가(장식)
```

> **참고:** 경로 레이아웃은 예시이며 실제 맵 디자인 시 조정합니다.

---

## 6. 전투 시스템

### 6.1 캐릭터 스탯
| 스탯 | 설명 | 강화 가능 여부 |
|------|------|----------------|
| 공격력 (ATK) | 적에게 가하는 데미지 | 강화 가능 |
| 공격속도 (ASPD) | 공격 간격 (낮을수록 빠름) | 강화 가능 |
| 사거리 (Range) | 공격 가능 범위 (칸 단위) | 고정 (캐릭터 고유값) |

### 6.2 스킬 시스템

#### 스킬 종류

| 종류 | 설명 | 발동 조건 |
|------|------|-----------|
| **평타** | 기본 공격, 모든 캐릭터 보유 | 자동 (사거리 내 적 감지 시) |
| **패시브** | 존재만으로 주변에 영향을 주는 오라/버프/디버프 | 항상 발동 (자동) |
| **액티브** | 평타에 붙는 확률 기반 추가 효과 | 평타 시 확률 발동 (자동) |

#### 패시브 예시
- "주변 2칸 적 이동속도 -10%"
- "주변 1칸 아군 공격력 +15%"
- "주변 2칸 적 방어력 -10%"
- "주변 1칸 아군 공격속도 +10%"

#### 액티브 예시
- "평타 시 20% 확률로 2배 데미지 (크리티컬)"
- "평타 시 15% 확률로 1초 스턴"
- "평타 시 30% 확률로 적 방어력 -10% (3초)"
- "평타 시 10% 확률로 주변 적에게 범위 데미지"

#### 등급별 스킬 슬롯

| 등급 | 평타 | 스킬 슬롯 수 | 구성 |
|------|------|-------------|------|
| 일반 | O | 0개 | 평타만 |
| 레어 | O | 1개 | 패시브 1 or 액티브 1 |
| 영웅 | O | 2개 | 자유 구성 (패2, 액2, 패1+액1) |
| 전설 | O | 2~3개 | 자유 구성 (액티브 최소 1개 권장) |

- 등급은 **스킬 슬롯 수**만 결정하며, 패시브/액티브 조합은 캐릭터마다 자유
- 같은 영웅이라도 "패시브 2개 순수 버퍼" vs "액티브 2개 공격형" 등 다양한 개성 가능

#### 스킬 구성 예시

| 캐릭터 | 등급 | 스킬 1 | 스킬 2 | 스킬 3 | 성격 |
|--------|------|--------|--------|--------|------|
| 분노 | 레어 | 액티브: 평타 시 15% 크리티컬 | - | - | 딜러 |
| 그리움 | 레어 | 패시브: 주변 아군 공격력 +10% | - | - | 버퍼 |
| 희망 | 영웅 | 패시브: 아군 공격력 오라 | 패시브: 아군 공속 오라 | - | 순수 버퍼 |
| 경멸 | 영웅 | 액티브: 평타 스턴 확률 | 액티브: 평타 방깎 확률 | - | 공격형 |
| 광기 | 영웅 | 패시브: 적 이속 감소 오라 | 액티브: 평타 범위 데미지 | - | 하이브리드 |
| 열정 | 전설 | 패시브: 아군 공속 버프 | 액티브: 평타 크리티컬 | 액티브: 평타 범위 폭발 | 딜러+버퍼 |
| 공허 | 전설 | 패시브: 적 방어력 감소 오라 | 액티브: 평타 스턴 | 액티브: 평타 감속 | 디버퍼+CC |

### 6.3 역할군
| 역할 | 설명 | 스킬 경향 |
|------|------|-----------|
| **딜러** | 높은 데미지, 적 처치 특화 | 액티브 위주 (크리티컬, 범위 데미지) |
| **스턴/CC** | 적 이동을 방해 | 액티브 위주 (스턴, 감속) |
| **버퍼** | 주변 아군 캐릭터 강화 | 패시브 위주 (공격력/공속 오라) |
| **디버퍼** | 적에게 약화 효과 부여 | 패시브 + 액티브 혼합 (방깎 오라, 감속) |

### 6.4 공격 방식
- 캐릭터는 사거리 내 적을 자동 감지하여 평타 공격
- 투사체 발사 → 적에게 적중 시 데미지 적용
- 액티브 스킬은 평타 적중 시 확률로 자동 발동
- 패시브 스킬은 캐릭터가 배치되어 있는 동안 상시 적용
- 별도 스킬 버튼 없음 — 모든 전투는 자동 진행

### 6.5 적 스탯
| 스탯 | 설명 |
|------|------|
| HP | 체력, 0이 되면 사망 |
| 방어력 (DEF) | 받는 데미지 감소 |
| 이동속도 (SPD) | 경로를 따라 이동하는 속도 |
| 보상 골드 | 처치 시 획득 골드 |

### 6.6 보스 스킬
- 일반 적은 스킬 없음 (스탯만으로 난이도 조절)
- **보스만 스킬 보유** (웨이브 10, 20, 30에 등장)
- 보스 스킬 예시:
  - "주변 적 HP 회복 오라"
  - "일정 HP 이하 시 이동속도 2배 (광폭화)"
  - "일정 간격으로 아군 캐릭터 공격력 감소 (공포)"

---

## 7. 시너지 시스템

### 7.1 감정 극성 시너지

각 캐릭터는 **Positive / Negative / Neutral** 극성을 가짐.

| 시너지 조건 | 효과 |
|-------------|------|
| **Positive 3개 이상 배치** | 아군 전체 공격력 +10% |
| **Positive 5개 이상 배치** | 아군 전체 공격력 +20%, 공속 +10% |
| **Negative 3개 이상 배치** | 적 전체 이동속도 -10% |
| **Negative 5개 이상 배치** | 적 전체 이동속도 -20%, 방어력 -10% |
| **Positive + Negative 각 3개 이상** | "감정 폭발" - 5웨이브마다 전체 범위 데미지 |

> **참고:** 시너지 수치는 밸런스 테스트를 통해 조정합니다.

### 7.2 역할군 시너지

| 시너지 조건 | 효과 |
|-------------|------|
| **딜러 3개 이상** | 딜러 크리티컬 확률 +15% |
| **스턴 2개 이상** | 스턴 지속시간 +0.5초 |
| **버퍼 2개 이상** | 버프 효과 범위 +1칸 |
| **디버퍼 2개 이상** | 디버프 지속시간 +1초 |

> **참고:** 시너지 수치는 밸런스 테스트를 통해 조정합니다.

---

## 8. 경제 시스템

### 8.1 재화
- **골드 (단일 재화)**: 뽑기, 강화, 판매 등 모든 경제 활동에 사용

### 8.2 골드 획득
| 획득 방법 | 설명 |
|-----------|------|
| 적 처치 | 적 1마리 처치 시 골드 획득 (적 종류에 따라 차등) |
| 웨이브 클리어 | 웨이브 완료 시 보너스 골드 |
| 캐릭터 판매 | 불필요한 캐릭터를 판매하여 골드 획득 |
| 5라운드 보상 | 선택 보상 중 골드 옵션 포함 가능 |

### 8.3 골드 소비
| 소비 항목 | 설명 |
|-----------|------|
| 뽑기 | 골드 소모하여 일반 캐릭터 랜덤 획득 |
| 강화 | 캐릭터 공격력/공격속도 업그레이드 |

### 8.4 캐릭터 판매
- 맵에 배치된 캐릭터 또는 보유 중인 캐릭터를 판매 가능
- 판매 시 등급에 따라 골드 환전
  - 일반: 뽑기 비용의 50%
  - 레어: 재료 가치의 50%
  - 영웅: 재료 가치의 50%
  - 전설: 재료 가치의 50%

---

## 9. 웨이브 시스템

### 9.1 기본 구조
- **총 30웨이브**
- 웨이브가 진행될수록 적의 HP, 이동속도, 출현 수 증가
- 웨이브 간 **준비 시간** 있음 (뽑기/조합/배치/강화 시간)

### 9.2 웨이브 구성 가이드

| 구간 | 웨이브 | 적 특성 | 플레이어 상태 |
|------|--------|---------|---------------|
| 초반 | 1~10 | 느리고 약한 적, 소수 | 일반/레어 캐릭터로 방어 |
| 중반 | 11~20 | 빨라지고 HP 증가, 특수 적 등장 | 영웅 캐릭터 조합 시작, 시너지 구축 |
| 후반 | 21~30 | 매우 강한 적, 대량 출현, 보스급 | 전설 캐릭터 활용, 풀 시너지 |

### 9.3 5라운드 보상 시스템
- **5, 10, 15, 20, 25, 30 웨이브 클리어 시** 보상 선택지 등장
- **3개 선택지 중 1개 선택** (로그라이크 스타일)
- 선택지 예시:
  - 보너스 골드 (대량)
  - 레어 캐릭터 랜덤 1개 지급
  - 영웅 캐릭터 랜덤 1개 지급 (후반 웨이브)
  - 전체 캐릭터 공격력 +5% (영구)
  - 전체 캐릭터 공격속도 +5% (영구)
  - 뽑기 비용 할인 (해당 게임 내)
  - 적 쌓임 한도 +5 (여유 확보)

### 9.4 웨이브별 자동 지급
- 매 웨이브 시작 시 기본 골드 지급
- 웨이브가 진행될수록 지급량 소폭 증가

---

## 10. 강화 시스템

### 10.1 강화 대상
| 강화 항목 | 설명 |
|-----------|------|
| 공격력 (ATK) | 단계별로 공격력 증가 |
| 공격속도 (ASPD) | 단계별로 공격 간격 감소 |

### 10.2 강화 규칙
- **골드 소모**로 강화
- 캐릭터별 개별 강화 (전체 강화 아님)
- 강화 단계가 올라갈수록 비용 증가
- 사거리는 **강화 불가** (캐릭터 고유 특성)
- 최대 강화 단계: 밸런스 테스트를 통해 결정 (권장: 5~10단계)

### 10.3 강화 비용 가이드 (예시)
| 강화 단계 | 공격력 비용 | 공격속도 비용 | 효과 |
|-----------|-------------|---------------|------|
| +1 | 50G | 50G | +10% |
| +2 | 100G | 100G | +20% |
| +3 | 200G | 200G | +30% |
| +4 | 350G | 350G | +40% |
| +5 | 500G | 500G | +50% |

> **참고:** 비용과 효과는 밸런스 테스트를 통해 조정합니다.

---

## 11. 적 (공허) 시스템

> 적 기본 스탯(HP, 방어력, 이동속도)과 보스 스킬은 **6. 전투 시스템**에서 정의.

### 11.1 적 종류 (예시)

| 이름 | 특성 | 등장 시기 |
|------|------|-----------|
| 잡념 | 기본 적, 느림, 약함 | 웨이브 1~ |
| 불면 | 빠른 이동속도 | 웨이브 5~ |
| 무기력 | 높은 HP, 느림 | 웨이브 8~ |
| 트라우마 | 높은 HP + 주변 적 버프 | 웨이브 15~ |
| 번아웃 | 처치 시 2마리로 분열 | 웨이브 18~ |
| 허무 (보스) | 매우 높은 HP, 특수 능력 | 웨이브 10, 20, 30 |

---

## 12. UI 레이아웃

### 12.1 게임 화면 구성 (세로 모드)

```
┌─────────────────────────────┐
│  [웨이브 정보] [골드] [설정]    │  ← 상단 HUD
├─────────────────────────────┤
│                             │
│                             │
│       6 x 10 격자 맵         │  ← 메인 게임 영역
│    (경로 + 배치 칸 + 적)      │
│                             │
│                             │
│                             │
├─────────────────────────────┤
│ [뽑기] [조합표] [강화] [판매]   │  ← 하단 액션 버튼
└─────────────────────────────┘
```

### 12.2 주요 UI 요소

| UI 요소 | 위치 | 기능 |
|---------|------|------|
| 웨이브 정보 | 상단 좌측 | 현재 웨이브 / 총 웨이브, 남은 적 수 |
| 골드 표시 | 상단 중앙 | 현재 보유 골드 |
| 설정 버튼 | 상단 우측 | 일시정지, 배속, 설정 |
| 격자 맵 | 중앙 | 메인 게임 영역 |
| 뽑기 버튼 | 하단 | 골드 소모하여 일반 캐릭터 뽑기 |
| 조합표 버튼 | 하단 | 조합표 팝업 열기 |
| 강화 버튼 | 하단 | 캐릭터 선택 후 강화 |
| 판매 버튼 | 하단 | 캐릭터 드래그하여 판매 |
| 적 쌓임 표시 | 경로 끝 | 현재 쌓인 적 수 / 최대 허용 수 |

### 12.3 캐릭터 상호작용
- **터치:** 캐릭터 정보 표시 (스탯, 사거리 범위 표시)
- **드래그:** 캐릭터 위치 이동 (배치 가능 칸으로만)
- **더블 터치:** 빠른 강화 메뉴

### 12.4 조합표 팝업
```
┌─────────────────────────────┐
│  조합표                  [X] │
├─────────────────────────────┤
│ [전체] [레어] [영웅] [전설]    │  ← 등급 필터
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ 분노                     │ │
│ │ 슬픔 + 외로움 → 분노      │ │
│ │ [재료 보유] [조합하기]     │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 질투                     │ │
│ │ 기쁨 + 두려움 → 질투      │ │
│ │ [재료 부족] 기쁨 필요      │ │
│ └─────────────────────────┘ │
│           ...               │
└─────────────────────────────┘
```

### 12.5 5라운드 보상 선택 화면
```
┌─────────────────────────────┐
│     웨이브 10 클리어!         │
│     보상을 선택하세요          │
├─────────────────────────────┤
│ ┌───────┐ ┌───────┐ ┌───────┐│
│ │ 골드   │ │ 영웅   │ │ 공격력  ││
│ │ 500G  │ │ 랜덤1개│ │ +5%   ││
│ └───────┘ └───────┘ └───────┘│
└─────────────────────────────┘
```

---

## 13. 배치 시스템

### 13.1 뽑기 → 배치 흐름
```
1. 하단 "뽑기" 버튼 터치 (골드 소모)
2. 일반 캐릭터 중 랜덤 1종 획득
3. 맵의 빈 배치 칸 중 랜덤 위치에 자동 배치
4. 필요 시 드래그로 위치 이동
```

### 13.2 배치 규칙
- 경로 칸에는 배치 불가
- 이미 캐릭터가 있는 칸에는 배치 불가
- 빈 배치 칸이 없으면 뽑기 불가 (판매하여 자리 확보 필요)
- 조합 시 생성된 캐릭터는 재료 캐릭터가 있던 위치 중 하나에 배치

---

## 14. 밸런스 가이드

### 14.1 경제 밸런스 (권장 기준값)

| 항목 | 값 | 비고 |
|------|-----|------|
| 시작 골드 | 100G | 뽑기 3~4회 가능 |
| 뽑기 비용 | 30G | 기본 비용 |
| 적 처치 골드 (일반) | 5~10G | 웨이브에 따라 증가 |
| 웨이브 클리어 보너스 | 20~50G | 웨이브에 따라 증가 |
| 캐릭터 판매 | 투자 비용의 50% | 뽑기 비용 + 강화 비용 기준 |

### 14.2 전투 밸런스 (권장 기준값)

| 항목 | 값 | 비고 |
|------|-----|------|
| 일반 캐릭터 DPS | 기준값 10 | |
| 레어 캐릭터 DPS | 기준값 25 | 일반의 2.5배 |
| 영웅 캐릭터 DPS | 기준값 60 | 일반의 6배 |
| 전설 캐릭터 DPS | 기준값 150 | 일반의 15배 |
| 적 HP 증가율 | 웨이브당 +15~20% | 복리 증가 |
| 적 쌓임 한도 | 20마리 | 게임오버 기준 |

### 14.3 밸런스 조정 포인트
- 뽑기 비용 vs 골드 수입: 매 웨이브 1~2회 뽑기 가능하도록
- 조합 타이밍: 10웨이브 즈음에 첫 영웅 조합 가능하도록
- 전설 등장: 20웨이브 이후 전설 조합 가능하도록
- 30웨이브 클리어: 전설 1~2개 + 잘 강화된 영웅 라인업 필요하도록

---

## 부록: 용어 정리

| 용어 | 설명 |
|------|------|
| 극성 (Polarity) | Positive / Negative / Neutral 감정 분류 |
| 시너지 | 특정 조건 충족 시 발동하는 추가 효과 |
| 조합 | 2개의 캐릭터를 합쳐 새로운 캐릭터 생성 |
| 웨이브 | 적이 출현하는 단위 라운드 |
| 쌓임 | 경로 끝에 도달한 적의 누적 |
| HUD | 게임 진행 정보 표시 UI (Head-Up Display) |
| DPS | 초당 데미지 (Damage Per Second) |
